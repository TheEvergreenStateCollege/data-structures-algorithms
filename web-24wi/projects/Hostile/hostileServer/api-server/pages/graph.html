<!DOCTYPE html>

<h1>Plot</h1>
<div id="myPlot"></div>
<script type="module">
    import * as Plot from "https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm";

    fetch("http://localhost:5000/randomGraph")
        .then(response => response.json())
        .then(json => {
            console.log(JSON.stringify(json));
            const plot = Plot.barY(json.results, { x: "day", y: "stepCount" }).plot();
            const div = document.querySelector("#myPlot");
            div.append(plot);
        })
        .catch(error => console.error('Error fetching data:', error));
</script>
